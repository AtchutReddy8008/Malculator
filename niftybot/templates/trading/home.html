{% extends 'base.html' %}

{% block title %}Home - NIFTY Trading Bot{% endblock %}

{% block extra_head %}
    <script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,300;0,700;0,900;1,300;1,700&display=swap" rel="stylesheet">
{% endblock %}

{% block content %}

<style>
    :root {
        --primary: #00ff9d;
        --primary-dark: #00c978;
        --text-muted: #d1d5db;
        --glow: 0 0 30px rgba(0,255,157,0.3);
        --green: #00ff9d;
        --red: #ff4d4d;
        --blue: #40c0ff;
    }

    body, html { background: transparent !important; }
    #chartContainer { display: none; }

    /* ── TICKER ── */
    .ticker-container {
        position: fixed;
        bottom: 0; left: 0;
        width: 100%; height: 2.8rem;
        background: rgba(0,0,0,0.45);
        backdrop-filter: blur(12px);
        border-top: 1px solid rgba(0,255,157,0.18);
        z-index: 999;
        overflow: hidden;
    }
    .ticker-wrapper {
        display: inline-flex;
        white-space: nowrap;
        animation: ticker 140s linear infinite;
    }
    .ticker-container:hover .ticker-wrapper { animation-play-state: paused; }
    .ticker-item {
        display: inline-flex;
        align-items: center;
        gap: 0.8rem;
        padding: 0 2.4rem;
        font-size: 0.95rem;
        color: #e5e7eb;
    }
    .ticker-symbol { font-weight: 700; color: white; min-width: 80px; }
    .ticker-price  { color: white; font-weight: 600; min-width: 95px; }
    .ticker-change.up   { color: var(--green); font-weight: 600; }
    .ticker-change.down { color: var(--red);   font-weight: 600; }
    @keyframes ticker {
        0%   { transform: translateX(0); }
        100% { transform: translateX(-50%); }
    }

    /* ══════════════════════════════════════
       HERO
    ══════════════════════════════════════ */
    .hero {
        position: relative;
        z-index: 10;
        text-align: center;
        padding: 18vh 1.5rem 14vh;
        background: transparent;
    }

    /* full-screen thin dark veil */
    .hero::before {
        content: "";
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.24);
        z-index: -1;
        pointer-events: none;
    }

    /* ── title ── */
    .hero-title {
        font-family: 'Playfair Display', Georgia, serif;
        line-height: 1.10;
        margin: 0 0 1.5rem;
    }
    .hero-line-1 {
        display: block;
        color: #ffffff;
        font-size: clamp(2.4rem, 5.5vw, 4.4rem);
        font-weight: 700;
        text-shadow: 0 2px 32px rgba(0,0,0,0.55);
    }
    .hero-line-2 {
        display: block;
        color: var(--primary);
        font-size: clamp(3.2rem, 8.5vw, 6.6rem);
        font-weight: 900;
        letter-spacing: -2px;
        text-shadow:
            0 0 50px rgba(0,255,157,0.45),
            0 0 100px rgba(0,255,157,0.15),
            0 2px 32px rgba(0,0,0,0.5);
        margin: 0.05rem 0;
    }
    .hero-line-3 {
        display: block;
        color: #ffffff;
        font-size: clamp(1.8rem, 4vw, 3.4rem);
        font-weight: 300;
        font-style: italic;
        letter-spacing: 0.06em;
        opacity: 0.88;
        text-shadow: 0 2px 32px rgba(0,0,0,0.55);
        margin-top: 0.2rem;
    }

    /* ── tagline ── */
    .hero-tagline {
        font-family: 'Inter', sans-serif;
        font-size: clamp(1rem, 2.2vw, 1.18rem);
        color: rgba(210,218,228,0.88);
        line-height: 1.75;
        max-width: 660px;
        margin: 0 auto 2rem;
        font-weight: 400;
    }

    /* ── pill tags ── */
    .hero-pills {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 9px;
        margin-bottom: 2.6rem;
    }
    .hero-pill {
        display: inline-flex;
        align-items: center;
        gap: 7px;
        padding: 6px 16px;
        border-radius: 99px;
        font-family: 'Inter', sans-serif;
        font-size: 0.815rem;
        font-weight: 600;
        letter-spacing: 0.3px;
        border: 1px solid rgba(0,255,157,0.26);
        background: rgba(0,255,157,0.07);
        color: rgba(0,255,157,0.88);
        backdrop-filter: blur(8px);
        transition: all 0.22s ease;
        cursor: default;
        user-select: none;
    }
    .hero-pill:hover {
        background: rgba(0,255,157,0.13);
        border-color: rgba(0,255,157,0.52);
        color: var(--primary);
        transform: translateY(-1px);
        box-shadow: 0 4px 14px rgba(0,255,157,0.16);
    }
    .pill-dot {
        width: 6px; height: 6px;
        border-radius: 50%;
        background: var(--primary);
        opacity: 0.72;
        flex-shrink: 0;
    }

    /* ── CTA buttons ── */
    .hero-cta {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        gap: 13px;
        margin-bottom: 3.8rem;
    }
    .btn-hero-primary {
        display: inline-flex;
        align-items: center;
        gap: 9px;
        padding: 13px 34px;
        font-family: 'Inter', sans-serif;
        font-size: 1rem;
        font-weight: 700;
        letter-spacing: 0.2px;
        border-radius: 50px;
        text-decoration: none;
        background: var(--primary);
        color: #041509;
        border: none;
        box-shadow: 0 0 28px rgba(0,255,157,0.32);
        transition: all 0.26s ease;
        cursor: pointer;
    }
    .btn-hero-primary:hover {
        background: #00e891;
        color: #041509;
        transform: translateY(-2px);
        box-shadow: 0 0 44px rgba(0,255,157,0.56);
    }
    .btn-hero-outline {
        display: inline-flex;
        align-items: center;
        gap: 9px;
        padding: 12px 30px;
        font-family: 'Inter', sans-serif;
        font-size: 1rem;
        font-weight: 600;
        border-radius: 50px;
        text-decoration: none;
        background: rgba(255,255,255,0.06);
        color: rgba(255,255,255,0.88);
        border: 1px solid rgba(255,255,255,0.28);
        backdrop-filter: blur(10px);
        transition: all 0.26s ease;
        cursor: pointer;
    }
    .btn-hero-outline:hover {
        background: rgba(255,255,255,0.12);
        border-color: rgba(255,255,255,0.52);
        color: #fff;
        transform: translateY(-2px);
    }

    /* ── stat strip ── */
    .hero-stats {
        display: flex;
        justify-content: center;
        align-items: stretch;
        flex-wrap: wrap;
        max-width: 600px;
        margin: 0 auto;
        border: 1px solid rgba(0,255,157,0.16);
        border-radius: 16px;
        background: rgba(6,11,9,0.55);
        backdrop-filter: blur(18px);
        -webkit-backdrop-filter: blur(18px);
        overflow: hidden;
    }
    .hero-stat {
        flex: 1 1 150px;
        padding: 22px 20px;
        text-align: center;
        position: relative;
    }
    .hero-stat + .hero-stat::before {
        content: "";
        position: absolute;
        left: 0; top: 18%; bottom: 18%;
        width: 1px;
        background: rgba(0,255,157,0.13);
    }
    .hero-stat-value {
        font-family: 'JetBrains Mono', 'Courier New', monospace;
        font-size: 1.9rem;
        font-weight: 700;
        color: var(--primary);
        line-height: 1;
        margin-bottom: 6px;
        letter-spacing: -0.5px;
        animation: statReveal 0.65s ease both;
    }
    .hero-stat:nth-child(2) .hero-stat-value { animation-delay: 0.12s; }
    .hero-stat:nth-child(3) .hero-stat-value { animation-delay: 0.24s; }
    @keyframes statReveal {
        from { opacity: 0; transform: translateY(8px); }
        to   { opacity: 1; transform: translateY(0); }
    }
    .hero-stat-label {
        font-family: 'Inter', sans-serif;
        font-size: 0.775rem;
        color: rgba(185,198,210,0.62);
        font-weight: 500;
        letter-spacing: 0.25px;
        line-height: 1.35;
    }

    /* ══════════════════════════════════════
       CONTENT BELOW
    ══════════════════════════════════════ */
    .content-below {
        position: relative;
        z-index: 10;
        background: transparent;
        padding: 3rem 1rem 8rem;
    }

    /* stat cards */
    .stat-card {
        background: rgba(20,20,30,0.48);
        border: 1px solid rgba(0,255,157,0.22);
        border-radius: 16px;
        backdrop-filter: blur(14px);
        transition: all 0.35s ease;
        padding: 2.2rem 1.8rem;
        text-align: center;
        color: white;
        min-height: 180px;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
    .stat-card:hover { transform: translateY(-8px); border-color: var(--primary); box-shadow: 0 20px 40px rgba(0,0,0,0.35); }
    .stat-card h3 { color: var(--primary); font-size: 1.45rem; margin-bottom: 0.8rem; font-weight: 600; }
    .stat-card p  { color: var(--text-muted); font-size: 0.98rem; margin: 0; }

    /* carousel */
    .strategy-carousel {
        background: transparent;
        border: 1px solid rgba(0,255,157,0.15);
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 10px 40px rgba(0,0,0,0.35);
        font-size: 0;
    }
    .cards-wrapper {
        display: flex;
        flex-wrap: nowrap;
        width: 100%;
        transition: transform 0.7s cubic-bezier(0.4,0,0.2,1);
        will-change: transform;
        margin: 0; padding: 0; gap: 0;
    }
    .strategy-card {
        flex: 0 0 100%; width: 100%; min-width: 100%;
        font-size: 1rem;
        background: rgba(18,18,28,0.62);
        backdrop-filter: blur(14px);
        padding: 2.6rem 2.2rem;
        min-height: 260px;
        color: white;
        text-align: center;
        margin: 0; border: none;
        box-sizing: border-box;
    }
    .strategy-card h3 { color: var(--primary); font-size: 1.65rem; margin-bottom: 1rem; font-weight: 600; }
    .strategy-card p  { color: var(--text-muted); font-size: 1rem; margin: 0.6rem 0; }
    .strategy-card .price { display: block; font-size: 2.1rem; font-weight: 800; color: white; margin: 1rem 0; letter-spacing: -0.5px; }
    .strategy-card .change.up   { color: var(--green); font-weight: 600; }
    .strategy-card .change.down { color: var(--red);   font-weight: 600; }

    /* final cta */
    .final-cta {
        background: rgba(18,18,28,0.62);
        border: 1px solid rgba(0,255,157,0.22);
        backdrop-filter: blur(14px);
        border-radius: 16px;
        color: white;
    }

    /* why choose */
    .why-choose { margin: 6rem 0 4rem; }
    .why-choose h2 {
        text-align: center;
        font-size: clamp(2.2rem, 6vw, 3.2rem);
        font-weight: 800;
        margin-bottom: 3.5rem;
        background: linear-gradient(90deg, #ffffff, var(--primary), #ffffff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 4rem;
    }
    .feature-card {
        background: rgba(20,20,30,0.48);
        border: 1px solid rgba(0,255,157,0.22);
        border-radius: 16px;
        backdrop-filter: blur(14px);
        transition: all 0.35s ease;
        padding: 3.5rem 2.8rem;
        text-align: center;
        color: white;
        min-height: 220px;
        min-width: 440px;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
    .feature-card:hover { transform: translateY(-8px); border-color: var(--primary); box-shadow: 0 20px 40px rgba(0,0,0,0.35); }
    .feature-card i  { font-size: 2.8rem; margin-bottom: 1.2rem; }
    .feature-card h3 { color: var(--primary); font-size: 1.4rem; margin-bottom: 1rem; font-weight: 600; }
    .feature-card p  { color: var(--text-muted); font-size: 0.98rem; margin: 0; line-height: 1.5; }

    /* responsive */
    @media (max-width: 992px) {
        .hero { padding: 16vh 1rem 12vh; }
        .hero-line-1 { font-size: clamp(2rem, 7vw, 3.4rem); }
        .hero-line-2 { font-size: clamp(2.8rem, 10vw, 5.2rem); }
        .hero-line-3 { font-size: clamp(1.6rem, 5.5vw, 2.8rem); }
    }
    @media (max-width: 768px) {
        .hero-line-1 { font-size: clamp(1.9rem, 8.5vw, 3rem); }
        .hero-line-2 { font-size: clamp(2.4rem, 11vw, 4.4rem); letter-spacing: -1px; }
        .hero-line-3 { font-size: clamp(1.4rem, 6.5vw, 2.4rem); }
        .hero-tagline { font-size: 1rem; }
        .hero-stats { max-width: 100%; border-radius: 12px; }
        .hero-stat-value { font-size: 1.6rem; }
        .btn-hero-primary, .btn-hero-outline { padding: 11px 24px; font-size: 0.95rem; }
        .feature-card { min-width: unset; padding: 2rem 1.4rem; }
    }
    @media (max-width: 480px) {
        .hero-stat { padding: 16px 12px; }
        .hero-stat-value { font-size: 1.38rem; }
        .hero-stat-label { font-size: 0.71rem; }
        .hero-pill { font-size: 0.76rem; padding: 5px 12px; }
    }
    @media (prefers-reduced-motion: reduce) {
        .ticker-wrapper, .cards-wrapper { animation: none !important; }
        .hero-stat-value { animation: none; }
    }
</style>

<!-- Ticker -->
<div class="ticker-container">
    <div class="ticker-wrapper">
        {% for _ in "12"|make_list %}
        <div class="ticker-item">
            <span class="ticker-symbol">NIFTY</span>
            <span class="ticker-price">24,856.40</span>
            <span class="ticker-change up">+127.65 (+0.52%)</span>
        </div>
        <div class="ticker-item">
            <span class="ticker-symbol">BANKNIFTY</span>
            <span class="ticker-price">59,820.75</span>
            <span class="ticker-change up">+380.50 (+0.64%)</span>
        </div>
        <div class="ticker-item">
            <span class="ticker-symbol">RELIANCE</span>
            <span class="ticker-price">1,480.60</span>
            <span class="ticker-change down">-18.25 (-1.22%)</span>
        </div>
        {% endfor %}
    </div>
</div>

<!-- ══════════ HERO ══════════ -->
<div class="hero">

    <h1 class="hero-title">
        <span class="hero-line-1">Trade Smarter with</span>
        <span class="hero-line-2">Algorithms</span>
        <span class="hero-line-3">Not Emotions</span>
    </h1>

    <p class="hero-tagline">
        Professional algorithmic trading strategies for Nifty, BankNifty &amp; Crypto.<br>
        Discipline-driven, risk-managed, and consistently profitable.
    </p>

    <!-- pills -->
    <div class="hero-pills">
        <span class="hero-pill"><span class="pill-dot"></span>Options</span>
        <span class="hero-pill"><span class="pill-dot"></span>Futures</span>
        <span class="hero-pill"><span class="pill-dot"></span>Algo Trading</span>
        <span class="hero-pill"><span class="pill-dot"></span>Risk Managed</span>
    </div>

    <!-- CTA -->
    <div class="hero-cta">
        {% if not user.is_authenticated %}
            <a href="{% url 'signup' %}" class="btn-hero-primary">
                <i class="fas fa-rocket"></i> Get Started
            </a>
            <a href="{% url 'strategies_list' %}" class="btn-hero-outline">
                <i class="fas fa-brain"></i> View Algorithms
            </a>
        {% else %}
            <a href="{% url 'dashboard' %}" class="btn-hero-primary">
                <i class="fas fa-tachometer-alt"></i> Open Dashboard
            </a>
            <a href="{% url 'algorithms' %}" class="btn-hero-outline">
                <i class="fas fa-robot"></i> Activate Algo
            </a>
        {% endif %}
    </div>

    <!-- stat strip -->
    <div class="hero-stats">
        <div class="hero-stat">
            <div class="hero-stat-value">12–15%</div>
            <div class="hero-stat-label">Avg. Monthly Returns</div>
        </div>
        <div class="hero-stat">
            <div class="hero-stat-value">1–2%</div>
            <div class="hero-stat-label">Risk Per Trade</div>
        </div>
        <div class="hero-stat">
            <div class="hero-stat-value">5+</div>
            <div class="hero-stat-label">Active Strategies</div>
        </div>
    </div>

</div>

<!-- ══════════ MAIN CONTENT ══════════ -->
<div class="content-below">
    <div class="container">

        <div class="strategy-carousel">
            <div class="cards-wrapper">
                <div class="strategy-card">
                    <h3>NIFTY Call</h3>
                    <p>Recommended Strike</p>
                    <span class="price">25,800 CE</span>
                    <p>Weekly Expiry</p>
                </div><div class="strategy-card">
                    <h3>NIFTY Sell</h3>
                    <p>Current Level</p>
                    <span class="price">25,642.80</span>
                    <p class="change up">+0.32% today</p>
                </div><div class="strategy-card">
                    <h3>BTC USD</h3>
                    <p>Live Price</p>
                    <span class="price">$69,174.18</span>
                    <p class="change up">+1.41% (24h)</p>
                </div><div class="strategy-card">
                    <h3>XAU USD</h3>
                    <p>Spot Gold</p>
                    <span class="price">$4,961.15</span>
                    <p class="change up">+3.99%</p>
                </div><div class="strategy-card">
                    <h3>Short Strangle</h3>
                    <p>Neutral Options Strategy</p>
                    <p>Sell OTM Call + Put</p>
                    <p>Best in low volatility</p>
                </div>
            </div>
        </div>

        <div class="row mt-5 g-4">
            <div class="col-md-4">
                <div class="stat-card">
                    <i class="fas fa-robot fa-3x mb-3" style="color:var(--primary);"></i>
                    <h3>Fully Automated</h3>
                    <p>Runs during market hours — no manual intervention needed.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <i class="fas fa-shield-alt fa-3x mb-3" style="color:var(--green);"></i>
                    <h3>Capital Protection</h3>
                    <p>Smart risk controls built to safeguard your account.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <i class="fas fa-chart-line fa-3x mb-3" style="color:var(--blue);"></i>
                    <h3>Live Monitoring</h3>
                    <p>Real-time dashboard with full performance visibility.</p>
                </div>
            </div>
        </div>

        <!-- Why Choose -->
        <div class="why-choose">
            <h2>Why Choose Trade with Naman?</h2>
            <p class="text-center text-muted mb-5" style="font-size:1.1rem; max-width:720px; margin:0 auto;">
                Professional-grade algorithmic trading made accessible for everyone
            </p>
            <div class="feature-grid">
                <div class="feature-card">
                    <i class="fas fa-robot" style="color:var(--primary);"></i>
                    <h3>Fully Automated</h3>
                    <p>Set it and forget it. Our algorithms execute trades 24/7 without manual intervention.</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-database" style="color:var(--primary);"></i>
                    <h3>Data-Driven</h3>
                    <p>Every strategy is backtested with years of historical data for consistent performance.</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-shield-alt" style="color:var(--green);"></i>
                    <h3>Risk Managed</h3>
                    <p>Strict stop-losses and position sizing ensure capital preservation.</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-bolt" style="color:var(--blue);"></i>
                    <h3>Real-Time Execution</h3>
                    <p>Lightning-fast order execution with minimal slippage on Zerodha & Binance.</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-layer-group" style="color:var(--primary);"></i>
                    <h3>Multiple Strategies</h3>
                    <p>Diversify across Nifty, BankNifty, and crypto for balanced returns.</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-trophy" style="color:var(--green);"></i>
                    <h3>Proven Track Record</h3>
                    <p>Consistent monthly returns with transparent P&L reporting.</p>
                </div>
            </div>
        </div>

        <div class="row mt-5">
            <div class="col-md-12">
                <div class="final-cta text-center py-5">
                    {% if not user.is_authenticated %}
                        <h4 class="mb-4">Ready to Get Started?</h4>
                        <a href="{% url 'signup' %}" class="btn-hero-primary"
                           style="display:inline-flex; font-size:1.05rem; padding:14px 40px;">
                            <i class="fas fa-rocket"></i> Create Free Account Now
                        </a>
                        <p class="mt-3" style="color:var(--text-muted);">
                            Takes less than 60 seconds • No credit card required
                        </p>
                    {% else %}
                        <h4 class="mb-4">Continue Your Journey</h4>
                        <a href="{% url 'dashboard' %}" class="btn-hero-primary"
                           style="display:inline-flex; font-size:1.05rem; padding:14px 40px;">
                            <i class="fas fa-tachometer-alt"></i> Go to Dashboard
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>

    </div>
</div>

<script>
(function () {
    const wrapper = document.querySelector('.cards-wrapper');
    if (!wrapper) return;
    const cards = wrapper.querySelectorAll('.strategy-card');
    if (!cards.length) return;
    let idx = 0;
    setInterval(function () {
        idx = (idx + 1) % cards.length;
        wrapper.style.transform = 'translateX(-' + (idx * 100) + '%)';
    }, 3800);
})();
</script>

{% endblock %}