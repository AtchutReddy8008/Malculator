{% extends 'base.html' %}

{% block title %}Home - NIFTY Trading Bot{% endblock %}

{% block extra_head %}
    <script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>
{% endblock %}

{% block content %}

<style>
    :root {
        --primary: #00ff9d;
        --primary-dark: #00c978;
        --primary-light: #40ffb5;
        --text: #f8f9fa;
        --text-muted: #d1d5db;
        --glow: 0 0 30px rgba(0, 255, 157, 0.3);
        --green: #00ff9d;
        --red: #ff4d4d;
        --blue: #40c0ff;
        --card-bg: rgba(18, 18, 28, 0.52);
        --card-border: rgba(0, 255, 157, 0.20);
    }

    body, html {
        background: transparent !important;
    }

    #chartContainer {
        display: none;
    }

    /* Ticker - compact & elegant */
    .ticker-container {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 2.8rem;
        background: rgba(0, 0, 0, 0.45);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border-top: 1px solid rgba(0, 255, 157, 0.18);
        z-index: 999;
        overflow: hidden;
    }

    .ticker-wrapper {
        display: inline-flex;
        white-space: nowrap;
        animation: ticker 140s linear infinite;
    }

    .ticker-container:hover .ticker-wrapper {
        animation-play-state: paused;
    }

    .ticker-item {
        display: inline-flex;
        align-items: center;
        gap: 0.8rem;
        padding: 0 2.4rem;
        font-size: 0.95rem;
        color: #e5e7eb;
    }

    .ticker-symbol {
        font-weight: 700;
        color: white;
        min-width: 80px;
    }

    .ticker-price {
        color: white;
        font-weight: 600;
        min-width: 95px;
    }

    .ticker-change.up   { color: var(--green); font-weight: 600; }
    .ticker-change.down { color: var(--red);   font-weight: 600; }

    @keyframes ticker {
        0%   { transform: translateX(0); }
        100% { transform: translateX(-50%); }
    }

    /* Hero - balanced & elegant */
    .hero {
        position: relative;
        z-index: 10;
        text-align: center;
        padding: 20vh 1.5rem 16vh;
        background: transparent;
    }

    .hero h1 {
        font-size: clamp(3.4rem, 9vw, 5.8rem);
        font-weight: 800;
        line-height: 1.1;
        margin: 0 0 1.1rem;
        background: linear-gradient(90deg, #ffffff, var(--primary), #ffffff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 4px 30px rgba(0, 255, 157, 0.4);
    }

    .tagline {
        font-size: clamp(1.15rem, 3.5vw, 1.45rem);
        max-width: 860px;
        margin: 0 auto 3.5rem;
        color: var(--text-muted);
        line-height: 1.6;
        font-weight: 400;
    }

    .btn {
        padding: 0.9rem 2.2rem;
        font-size: 1.05rem;
        font-weight: 600;
        border-radius: 50px;
        transition: all 0.35s ease;
        margin: 0 0.9rem;
        text-decoration: none;
        backdrop-filter: blur(10px);
        border: none;
    }

    .btn-primary {
        background: rgba(0, 255, 157, 0.85);
        color: #0f172a;
        box-shadow: var(--glow);
    }

    .btn-primary:hover {
        background: #00e89c;
        transform: translateY(-3px);
        box-shadow: 0 0 40px rgba(0,255,157,0.7);
    }

    .btn-outline {
        background: rgba(255,255,255,0.08);
        border: 1px solid rgba(255,255,255,0.35);
        color: white;
    }

    .btn-outline:hover {
        background: rgba(255,255,255,0.18);
        color: white;
    }

    .stats {
        margin-top: 4rem;
        font-size: 1.05rem;
        color: rgba(255,255,255,0.82);
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 2.5rem;
        font-weight: 500;
    }

    /* Content section */
    .content-below {
        position: relative;
        z-index: 10;
        background: transparent;
        padding: 3rem 1rem 8rem;
    }

    /* Stat cards - cleaner look */
    .stat-card {
        background: rgba(20, 20, 30, 0.48);
        border: 1px solid rgba(0, 255, 157, 0.22);
        border-radius: 16px;
        backdrop-filter: blur(14px);
        transition: all 0.35s ease;
        padding: 2.2rem 1.8rem;
        text-align: center;
        color: white;
        min-height: 180px;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .stat-card:hover {
        transform: translateY(-8px);
        border-color: var(--primary);
        box-shadow: 0 20px 40px rgba(0,0,0,0.35);
    }

    .stat-card h3 {
        color: var(--primary);
        font-size: 1.45rem;
        margin-bottom: 0.8rem;
        font-weight: 600;
    }

    .stat-card p {
        color: var(--text-muted);
        font-size: 0.98rem;
        margin: 0;
    }

    /* Strategy carousel */
    .strategy-carousel {
        background: transparent;
        border: 1px solid rgba(0,255,157,0.15);
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 10px 40px rgba(0,0,0,0.35);
    }

    .cards-wrapper {
        display: flex;
        transition: transform 0.7s ease;
    }

    .strategy-card {
        flex: 0 0 100%;
        background: rgba(18, 18, 28, 0.62);
        border-right: 1px solid rgba(255,255,255,0.07);
        backdrop-filter: blur(14px);
        padding: 2.6rem 2.2rem;
        min-height: 260px;
        color: white;
        text-align: center;
    }

    .strategy-card h3 {
        color: var(--primary);
        font-size: 1.65rem;
        margin-bottom: 1rem;
        font-weight: 600;
    }

    .strategy-card p {
        color: var(--text-muted);
        font-size: 1rem;
        margin: 0.6rem 0;
    }

    .strategy-card .price {
        font-size: 2.1rem;
        font-weight: 800;
        color: white;
        margin: 1rem 0;
        letter-spacing: -0.5px;
    }

    .strategy-card .change.up   { color: var(--green); font-weight: 600; }
    .strategy-card .change.down { color: var(--red);   font-weight: 600; }

    /* Final CTA card */
    .final-cta {
        background: rgba(18, 18, 28, 0.62);
        border: 1px solid rgba(0,255,157,0.22);
        backdrop-filter: blur(14px);
        border-radius: 16px;
        color: white;
    }

    /* NEW: Why Choose section */
    .why-choose {
        margin: 6rem 0 4rem;
    }

    .why-choose h2 {
        text-align: center;
        font-size: clamp(2.2rem, 6vw, 3.2rem);
        font-weight: 800;
        margin-bottom: 3.5rem;
        background: linear-gradient(90deg, #ffffff, var(--primary), #ffffff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 4px 25px rgba(0, 255, 157, 0.35);
    }

    .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 4rem;
    }

    .feature-card {
        background: rgba(20, 20, 30, 0.48);
        border: 1px solid rgba(0, 255, 157, 0.22);
        border-radius: 16px;
        backdrop-filter: blur(14px);
        transition: all 0.35s ease;
        padding: 3.5rem 2.8rem;
        text-align: center;
        color: white;
        min-height: 220px;
        min-width:440px
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .feature-card:hover {
        transform: translateY(-8px);
        border-color: var(--primary);
        box-shadow: 0 20px 40px rgba(0,0,0,0.35);
    }

    .feature-card i {
        font-size: 2.8rem;
        margin-bottom: 1.2rem;
    }

    .feature-card h3 {
        color: var(--primary);
        font-size: 1.4rem;
        margin-bottom: 1rem;
        font-weight: 600;
    }

    .feature-card p {
        color: var(--text-muted);
        font-size: 0.98rem;
        margin: 2;
        line-height: 1.5;
    }

    /* Responsive */
    @media (max-width: 992px) {
        .hero { padding: 18vh 1rem 14vh; }
        .hero h1 { font-size: clamp(2.8rem, 10vw, 4.8rem); }
    }

    @media (max-width: 768px) {
        .hero h1 { font-size: clamp(2.6rem, 11vw, 4.2rem); }
        .tagline { font-size: 1.1rem; }
        .btn { padding: 0.8rem 1.8rem; font-size: 0.98rem; margin: 0.5rem; }
        .stats { gap: 1.8rem; font-size: 0.95rem; }
        .strategy-card { padding: 2rem 1.6rem; min-height: 240px; }
        .strategy-card h3 { font-size: 1.4rem; }
        .strategy-card .price { font-size: 1.9rem; }
        .why-choose h2 { font-size: 2.4rem; margin-bottom: 2.5rem; }
        .feature-card { min-height: 200px; padding: 1.8rem 1.4rem; }
    }

    @media (prefers-reduced-motion: reduce) {
        .ticker-wrapper, .cards-wrapper {
            animation: none !important;
        }
    }
</style>

<!-- Ticker -->
<div class="ticker-container">
    <div class="ticker-wrapper">
        {% for _ in "12"|make_list %}
        <div class="ticker-item">
            <span class="ticker-symbol">NIFTY</span>
            <span class="ticker-price">24,856.40</span>
            <span class="ticker-change up">+127.65 (+0.52%)</span>
        </div>
        <div class="ticker-item">
            <span class="ticker-symbol">BANKNIFTY</span>
            <span class="ticker-price">59,820.75</span>
            <span class="ticker-change up">+380.50 (+0.64%)</span>
        </div>
        <div class="ticker-item">
            <span class="ticker-symbol">RELIANCE</span>
            <span class="ticker-price">1,480.60</span>
            <span class="ticker-change down">-18.25 (-1.22%)</span>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Hero -->
<div class="hero">
    <h1>
        Trade Smarter<br>
        <span style="color: var(--primary);">with Algorithms</span>
    </h1>

    <p class="tagline">
        Leave emotions behind.<br>
        Professional algo strategies for <strong>NIFTY</strong>, <strong>BankNIFTY</strong> & <strong>Crypto</strong>.<br>
        Discipline-driven • Risk-managed • Consistently profitable.
    </p>

    {% if not user.is_authenticated %}
        <div style="margin: 3.5rem 0;">
            <a href="{% url 'signup' %}" class="btn btn-primary">
                <i class="fas fa-rocket me-2"></i> Start Free Trial
            </a>
            <a href="{% url 'login' %}" class="btn btn-outline">
                <i class="fas fa-sign-in-alt me-2"></i> Login
            </a>
        </div>
    {% else %}
        <div style="margin: 3.5rem 0;">
            <a href="{% url 'dashboard' %}" class="btn btn-primary">
                <i class="fas fa-tachometer-alt me-2"></i> Open Dashboard
            </a>
            <a href="{% url 'algorithms' %}" class="btn btn-outline">
                <i class="fas fa-robot me-2"></i> Activate Algo
            </a>
        </div>
    {% endif %}

    <div class="stats">
        <span>Proven Performance</span>
        <span>Fully Automated</span>
        <span>Capital Protection</span>
    </div>
</div>

<!-- Main Content -->
<div class="content-below">
    <div class="container">
        <div class="strategy-carousel">
            <div class="cards-wrapper">
                <div class="strategy-card">
                    <h3>NIFTY Call</h3>
                    <p>Recommended Strike</p>
                    <span class="price">25,800 CE</span>
                    <p>Weekly Expiry</p>
                </div>
                <div class="strategy-card">
                    <h3>NIFTY Sell</h3>
                    <p>Current Level</p>
                    <span class="price">25,642.80</span>
                    <p class="change up">+0.32% today</p>
                </div>
                <div class="strategy-card">
                    <h3>BTC USD</h3>
                    <p>Live Price</p>
                    <span class="price">$69,174.18</span>
                    <p class="change up">+1.41% (24h)</p>
                </div>
                <div class="strategy-card">
                    <h3>XAU USD</h3>
                    <p>Spot Gold</p>
                    <span class="price">$4,961.15</span>
                    <p class="change up">+3.99%</p>
                </div>
                <div class="strategy-card">
                    <h3>Short Strangle</h3>
                    <p>Neutral Options Strategy</p>
                    <p>Sell OTM Call + Put</p>
                    <p>Best in low volatility</p>
                </div>
            </div>
        </div>

        <div class="row mt-5 g-4">
            <div class="col-md-4">
                <div class="stat-card">
                    <i class="fas fa-robot fa-3x mb-3" style="color: var(--primary);"></i>
                    <h3>Fully Automated</h3>
                    <p>Runs during market hours — no manual intervention needed.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <i class="fas fa-shield-alt fa-3x mb-3" style="color: var(--green);"></i>
                    <h3>Capital Protection</h3>
                    <p>Smart risk controls built to safeguard your account.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <i class="fas fa-chart-line fa-3x mb-3" style="color: var(--blue);"></i>
                    <h3>Live Monitoring</h3>
                    <p>Real-time dashboard with full performance visibility.</p>
                </div>
            </div>
        </div>

        <!-- Why Choose Trade with Naman? -->
        <div class="why-choose">
            <h2>Why Choose Trade with Naman?</h2>
            <p class="text-center text-muted mb-5" style="font-size: 1.15rem; max-width: 720px; margin: 0 auto;">
                Professional-grade algorithmic trading made accessible for everyone
            </p>

            <div class="feature-grid">
                <div class="feature-card">
                    <i class="fas fa-robot" style="color: var(--primary);"></i>
                    <h3>Fully Automated</h3>
                    <p>Set it and forget it. Our algorithms execute trades 24/7 without manual intervention.</p>
                </div>

                <div class="feature-card">
                    <i class="fas fa-database" style="color: var(--primary);"></i>
                    <h3>Data-Driven</h3>
                    <p>Every strategy is backtested with years of historical data for consistent performance.</p>
                </div>

                <div class="feature-card">
                    <i class="fas fa-shield-alt" style="color: var(--green);"></i>
                    <h3>Risk Managed</h3>
                    <p>Strict stop-losses and position sizing ensure capital preservation.</p>
                </div>

                <div class="feature-card">
                    <i class="fas fa-bolt" style="color: var(--blue);"></i>
                    <h3>Real-Time Execution</h3>
                    <p>Lightning-fast order execution with minimal slippage on Zerodha & Binance.</p>
                </div>

                <div class="feature-card">
                    <i class="fas fa-layer-group" style="color: var(--primary);"></i>
                    <h3>Multiple Strategies</h3>
                    <p>Diversify across Nifty, BankNifty, and crypto for balanced returns.</p>
                </div>

                <div class="feature-card">
                    <i class="fas fa-trophy" style="color: var(--green);"></i>
                    <h3>Proven Track Record</h3>
                    <p>Consistent monthly returns with transparent P&L reporting.</p>
                </div>
            </div>
        </div>

        <div class="row mt-5">
            <div class="col-md-12">
                <div class="final-cta text-center py-5">
                    {% if not user.is_authenticated %}
                        <h4 class="mb-4">Ready to Get Started?</h4>
                        <a href="{% url 'signup' %}" class="btn btn-primary btn-lg px-5 py-3">
                            <i class="fas fa-rocket me-2"></i> Create Free Account Now
                        </a>
                        <p class="mt-3" style="color: var(--text-muted);">
                            Takes less than 60 seconds • No credit card required
                        </p>
                    {% else %}
                        <h4 class="mb-4">Continue Your Journey</h4>
                        <a href="{% url 'dashboard' %}" class="btn btn-primary btn-lg px-5 py-3">
                            <i class="fas fa-tachometer-alt me-2"></i> Go to Dashboard
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// Strategy cards carousel
(function() {
    const wrapper = document.querySelector('.cards-wrapper');
    if (!wrapper) return;

    const cards = document.querySelectorAll('.strategy-card');
    let currentIndex = 0;

    function slideNext() {
        currentIndex = (currentIndex + 1) % cards.length;
        wrapper.style.transform = `translateX(-${currentIndex * 100}%)`;
    }

    setInterval(slideNext, 3800);
})();
</script>

{% endblock %}